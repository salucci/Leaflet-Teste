<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

		<script
  src="https://code.jquery.com/jquery-3.1.1.min.js"
  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
  crossorigin="anonymous"></script>
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

	
	<style>
.customplace {color:#999;}
</style>

    <title>Test Menu</title>
    </head>
    <body>
    <div class="container">
	

     
	  
	  
 <div class="panel panel-primary">
                <div class="panel-heading">
                     <h3 class="panel-title">Consulta de Variáveis</h3>
                </div>
                <div class="panel-body">
                    <form class="form-horizontal" role="form" method="post" id="myform">
					
						<div class="form-group">
                            <label class="col-sm-3 control-label">Alvo da consulta</label>
                            <div class="col-sm-9">
                                <div class="btn-group input-group btn-group-justified" id="radiotarget" data-toggle="buttons">
                                    <label class="btn btn-success active">
                                        <input type="radio" name="options" name="target" value="municipios" id="option1" checked />Municípios</label>
                                    <label class="btn btn-primary">
                                        <input type="radio" name="options" name="target" value="estados" id="option2" />Estados</label>
                                    <label class="btn btn-danger">
                                        <input type="radio" name="options" name="target" value="regioes" id="option3" />Regiões</label>
                                </div>
                            </div>
                        </div>
						
	                        <div class="form-group">
                            <label class="col-sm-3 control-label">Variáveis</label>
                            <div class="col-sm-9">
								<div class="row">
									<div class="col-md-6">
                                    <select id="var1" name="var1" class="form-control">
										<option value="" disabled selected hidden>Variável</option>
                                        <option>PIB</option>
                                        <option>População</option>
                                        <option>IDH</option>
                                        <option>Densidade</option>
                                    </select> 
									</div>
									<div class="col-md-3">
									<input type="text" class="input-small form-control" name="peso1" id="peso1" placeholder="Peso" />
									</div>
									<div class="col-md-3">
                                    <select id="val1" name="val1" class="form-control">
										<option value="" selected disabled hidden>Fuzzy</option>
                                        <option>Baixo</option>
                                        <option>Médio Baixo</option>
                                        <option>Médio</option>
                                        <option>Médio Alto</option>
                                        <option>Alto</option>
                                    </select>
									</div>
								</div> <!-- /row -->
                            </div>
							
							
                        </div>
						
						<div class="form-group">
                            <label class="col-sm-3 control-label"></label>
                            <div class="col-sm-9">
								<div class="row">
									<div class="col-md-6">
                                    <select id="var2" name="var2" class="form-control">
										<option value="" selected disabled hidden>Variável</option>
                                        <option>PIB</option>
                                        <option>População</option>
                                        <option>IDH</option>
                                        <option>Densidade</option>
                                    </select> 
									</div>
									<div class="col-md-3">
									<input type="text" class="input-small form-control" name="peso2" id="peso2" placeholder="Peso" />
									</div>
									<div class="col-md-3">
                                    <select id="val2" name="val2" class="form-control">
									<option value="" selected disabled hidden>Fuzzy</option>
                                        <option>Baixo</option>
                                        <option>Médio Baixo</option>
                                        <option>Médio</option>
                                        <option>Médio Alto</option>
                                        <option>Alto</option>
                                    </select>
									</div>
								</div> <!-- /row -->
                            </div>					
                        </div>
						
						<div class="form-group">
                            <label class="col-sm-3 control-label"></label>
                            <div class="col-sm-9">
								<div class="row">
									<div class="col-md-6">
                                    <select id="var3" name="var3" class="form-control">
										<option value="" selected disabled hidden>Variável</option>
                                        <option>PIB</option>
                                        <option>População</option>
                                        <option>IDH</option>
                                        <option>Densidade</option>
                                    </select> 
									</div>
									<div class="col-md-3">
									<input type="text" class="input-small form-control" name="peso3" id="peso3" placeholder="Peso" />
									</div>
									<div class="col-md-3">
                                    <select id="val3" name="val3" class="form-control">
									<option value="" selected disabled hidden>Fuzzy</option>
                                        <option>Baixo</option>
                                        <option>Médio Baixo</option>
                                        <option>Médio</option>
                                        <option>Médio Alto</option>
                                        <option>Alto</option>
                                    </select>
									</div>
								</div> <!-- /row -->
                            </div>					
                        </div>
						
						<div class="form-group">
                            <label class="col-sm-3 control-label"></label>
                            <div class="col-sm-9">
								<div class="row">
									<div class="col-md-6">
                                    <select id="var4" name="var4" class="form-control">
										<option value="" selected disabled hidden>Variável</option>
                                        <option>PIB</option>
                                        <option>População</option>
                                        <option>IDH</option>
                                        <option>Densidade</option>
                                    </select> 
									</div>
									<div class="col-md-3">
									<input type="text" class="input-small form-control" name="peso4" id="peso4" placeholder="Peso" />
									</div>
									<div class="col-md-3">
                                    <select id="val4" name="val4" class="form-control">
									<option value="" selected disabled hidden>Fuzzy</option>
                                        <option>Baixo</option>
                                        <option>Médio Baixo</option>
                                        <option>Médio</option>
                                        <option>Médio Alto</option>
                                        <option>Alto</option>
                                    </select>
									</div>
								</div> <!-- /row -->
                            </div>					
                        </div>
						
						<div class="form-group">
                            <label class="col-sm-3 control-label"></label>
                            <div class="col-sm-9">
								<div class="row">
									<div class="col-md-6">
                                    <select id="var5" name="var5" class="form-control">
										<option value="" selected disabled hidden>Variável</option>
                                        <option>PIB</option>
                                        <option>População</option>
                                        <option>IDH</option>
                                        <option>Densidade</option>
                                    </select> 
									</div>
									<div class="col-md-3">
									<input type="text" class="input-small form-control" name="peso5" id="peso5" placeholder="Peso" />
									</div>
									<div class="col-md-3">
                                    <select id="val5" name="val5" class="form-control">
									<option value="" selected disabled hidden>Fuzzy</option>
                                        <option>Baixo</option>
                                        <option>Médio Baixo</option>
                                        <option>Médio</option>
                                        <option>Médio Alto</option>
                                        <option>Alto</option>
                                    </select>
									</div>
								</div> <!-- /row -->
                            </div>					
                        </div>
						
						<button type="submit">Click me</button>

						
						<!--
                        <div class="form-group">
                            <label for="inputEmail3" class="col-sm-3 control-label">Email</label>
                            <div class="col-sm-9">
                                <input type="email" class="form-control" id="inputEmail3" placeholder="Email" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputPassword3" class="col-sm-3 control-label">Password</label>
                            <div class="col-sm-9">
                                <input type="password" class="form-control" id="inputPassword3" placeholder="Password" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="skill" class="col-sm-3 control-label">Skill</label>
                            <div class="col-sm-9">
                                <select id="skill" class="form-control multiselect " multiple="multiple">
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                    <option>5</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Dates range</label>
                            <div class="col-sm-9">
                                <div class="input-daterange input-group" id="datepicker">
                                    <input type="text" class="input-small form-control" name="start" /> <span class="input-group-addon">to</span>

                                    <input type="text" class="input-small form-control" name="end" />
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label">Subscribe</label>
                            <div class="col-sm-9">
                                <div class="btn-group input-group" data-toggle="buttons">
                                    <label class="btn btn-success">
                                        <input type="radio" name="options" id="option1" />Yes</label>
                                    <label class="btn btn-primary">
                                        <input type="radio" name="options" id="option2" />Maybe</label>
                                    <label class="btn btn-danger">
                                        <input type="radio" name="options" id="option3" />No</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Mails</label>
                            <div class="col-sm-9">
                                <div class="btn-group input-group" data-toggle="buttons">
                                    <label class="btn btn-success">
                                        <input type="checkbox" name="options" id="option1" />Admins</label>
                                    <label class="btn btn-primary">
                                        <input type="checkbox" name="options" id="option2" />Mods</label>
                                </div>
                            </div>
                        </div>
                     -->


	
</div> <!-- /container -->
    </body>
	
	<script type="text/javascript">
	
const isValidValue = element => {
	console.log(element);
  return (!['checkbox', 'radio'].includes(element.type) || element.checked);
};

const isValidElement = element => {
  return element.name && element.value;
};

//radiotarget $('#radiotarget label.active input').val()

	const formToJSON_deconstructed = elements => {
  
  // This is the function that is called on each element of the array.
  const reducerFunction = (data, element) => {
    
    // Add the current field to the object.
	 if (isValidElement(element) && isValidValue(element)) {
    data[element.name] = element.value;
  }
    
    // For the demo only: show each step in the reducer’s progress.
    console.log(JSON.stringify(data));

    return data;
  };
  
  // This is used as the initial value of `data` in `reducerFunction()`.
  const reducerInitialValue = {};
  
  // To help visualize what happens, log the inital value, which we know is `{}`.
  console.log('Initial `data` value:', JSON.stringify(reducerInitialValue));
  
  // Now we reduce by `call`-ing `Array.prototype.reduce()` on `elements`.
  const formData = [].reduce.call(elements, reducerFunction, reducerInitialValue);
  
  // The result is then returned for use elsewhere.
  return formData;
};

const formToJSON = elements => [].reduce.call(elements, (data, element) => {
  
  	 if (isValidElement(element) && isValidValue(element)) {
    data[element.name] = element.value;
  }
  
  
  return data;

}, {});



var form = document.getElementsByClassName('form-horizontal')[0];
const data = formToJSON(form.elements);
	   //doSomething(data.email);
	
$(function(e) {
       var frm = $(document.myform);
       var dat = JSON.stringify(frm.serializeArray());

	   

	   

	   
    
	alert("I am about to POST this:\n\n" + dat);
     });

  // stop the regular form submission
  

const handleFormSubmit = event => {
  
  // Stop the form from submitting since we’re handling that with AJAX.
  event.preventDefault();
  
  // Call our function to get the form data.
  const data = formToJSON(form.elements);

  // Demo only: print the form data onscreen as a formatted JSON object.
  const dataContainer = document.getElementsByClassName('results__display')[0];
  
  // Use `JSON.stringify()` to make the output valid, human-readable JSON.
  console.log(JSON.stringify(data, null, "  "));
  
  // ...this is where we’d actually do something with the form data...
};
	   

form.addEventListener('submit', handleFormSubmit);
  
  <!-- $.ajax({ -->
    <!-- url: "http://127.0.0.1/projects/phpController.php", -->
    <!-- type: "POST", -->
    <!-- dataType: "json", -->
    <!-- data: {"Codigo": 1100023}, -->
    <!-- success: function(data){ -->
        <!-- console.log(data); -->
		<!-- MergeData(data); -->
		
    <!-- }, -->
    <!-- error: function(error){ -->
         <!-- console.log("Error:"); -->
         <!-- console.log(error); -->
    <!-- } -->
<!-- }); -->

	 

	</script>
</html>
